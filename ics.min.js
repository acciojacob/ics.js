var ics=function(e,t){"use strict";if(!(navigator.userAgent.indexOf("MSIE")>-1&&-1==navigator.userAgent.indexOf("MSIE 10"))){void 0===e&&(e="default"),void 0===t&&(t="Calendar");var r=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",n=[],i=["BEGIN:VCALENDAR","PRODID:"+t,"VERSION:2.0"].join(r),o=r+"END:VCALENDAR",a=["SU","MO","TU","WE","TH","FR","SA"];return{events:function(){return n},calendar:function(){return i+r+n.join(r)+o},addEvent:function(t,i,o,l,u,c,s){if(void 0===t||void 0===i||void 0===o||void 0===l||void 0===u)return!1;if(s&&!s.rrule){if("YEARLY"!==s.freq&&"MONTHLY"!==s.freq&&"WEEKLY"!==s.freq&&"DAILY"!==s.freq)throw"Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'";if(s.until&&isNaN(Date.parse(s.until)))throw"Recurrence rrule 'until' must be a valid date string";if(s.interval&&isNaN(parseInt(s.interval)))throw"Recurrence rrule 'interval' must be an integer";if(s.count&&isNaN(parseInt(s.count)))throw"Recurrence rrule 'count' must be an integer";if(void 0!==s.byday){if("[object Array]"!==Object.prototype.toString.call(s.byday))throw"Recurrence rrule 'byday' must be an array";if(s.byday.length>7)throw"Recurrence rrule 'byday' array must not be longer than the 7 days in a week";for(var g in s.byday=s.byday.filter(function(e,t){return s.byday.indexOf(e)==t}),s.byday)if(a.indexOf(s.byday[g])<0)throw"Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'"}}var d=new Date(l),S=new Date(u),f=new Date,E=("0000"+d.getFullYear().toString()).slice(-4),y=("00"+(d.getMonth()+1).toString()).slice(-2),v=("00"+d.getDate().toString()).slice(-2),A=("00"+d.getHours().toString()).slice(-2),T=("00"+d.getMinutes().toString()).slice(-2),b=("00"+d.getSeconds().toString()).slice(-2),D=("0000"+S.getFullYear().toString()).slice(-4),N=("00"+(S.getMonth()+1).toString()).slice(-2),R=("00"+S.getDate().toString()).slice(-2),h=("00"+S.getHours().toString()).slice(-2),I=("00"+S.getMinutes().toString()).slice(-2),L=("00"+S.getSeconds().toString()).slice(-2),w="",M="";A+T+b+h+I+L!=0&&(w="T"+A+T+b,M="T"+h+I+L);var O,U=E+y+v+w,p=D+N+R+M,Y=("0000"+f.getFullYear().toString()).slice(-4)+("00"+(f.getMonth()+1).toString()).slice(-2)+("00"+f.getDate().toString()).slice(-2)+("T"+("00"+f.getHours().toString()).slice(-2)+("00"+f.getMinutes().toString()).slice(-2)+("00"+f.getSeconds().toString()).slice(-2));if(s)if(s.rrule)O=s.rrule;else{if(O="rrule:FREQ="+s.freq,s.until){var V=new Date(Date.parse(s.until)).toISOString();O+=";UNTIL="+V.substring(0,V.length-13).replace(/[-]/g,"")+"000000Z"}s.interval&&(O+=";INTERVAL="+s.interval),s.count&&(O+=";COUNT="+s.count),s.byday&&s.byday.length>0&&(O+=";BYDAY="+s.byday.join(","))}(new Date).toISOString();var B=["BEGIN:VEVENT","UID:"+n.length+"@"+e,"CLASS:PUBLIC","DESCRIPTION:"+i,"DTSTAMP;VALUE=DATE-TIME:"+Y,"DTSTART;VALUE=DATE-TIME:"+U,"DTEND;VALUE=DATE-TIME:"+p,"LOCATION:"+o,"SUMMARY;LANGUAGE=en-us:"+t,"TRANSP:TRANSPARENT"];return null!=c&&function(e){try{return new URL(e),!0}catch(e){return!1}}(c)&&(B=B.concat(["URL;VALUE=URI:"+c])),B=B.concat(["END:VEVENT"]),O&&B.splice(4,0,O),B=B.join(r),n.push(B),B},download:function(e,t){if(n.length<1)return!1;t=void 0!==t?t:".ics",e=void 0!==e?e:"calendar";var a,l=i+r+n.join(r)+o;if(-1===navigator.userAgent.indexOf("MSIE 10"))a=new Blob([l]);else{var u=new BlobBuilder;u.append(l),a=u.getBlob("text/x-vCalendar;charset="+document.characterSet)}return saveAs(a,e+t),l},build:function(){return!(n.length<1)&&i+r+n.join(r)+o}}}console.log("Unsupported Browser")};