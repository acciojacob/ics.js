var ics=function(e,t){"use strict";if(!(navigator.userAgent.indexOf("MSIE")>-1&&-1==navigator.userAgent.indexOf("MSIE 10"))){void 0===e&&(e="default"),void 0===t&&(t="Calendar");var r=[],n=["BEGIN:VCALENDAR","PRODID:"+t,"VERSION:2.0"].join("\r\n"),i=["SU","MO","TU","WE","TH","FR","SA"];return{events:function(){return r},calendar:function(){return n+"\r\n"+r.join("\r\n")+"\r\nEND:VCALENDAR"},addEvent:function(t,n,o,a,l,u,c){if(void 0===t||void 0===n||void 0===o||void 0===a||void 0===l)return!1;if(c&&!c.rrule){if("YEARLY"!==c.freq&&"MONTHLY"!==c.freq&&"WEEKLY"!==c.freq&&"DAILY"!==c.freq)throw"Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'";if(c.until&&isNaN(Date.parse(c.until)))throw"Recurrence rrule 'until' must be a valid date string";if(c.interval&&isNaN(parseInt(c.interval)))throw"Recurrence rrule 'interval' must be an integer";if(c.count&&isNaN(parseInt(c.count)))throw"Recurrence rrule 'count' must be an integer";if(void 0!==c.byday){if("[object Array]"!==Object.prototype.toString.call(c.byday))throw"Recurrence rrule 'byday' must be an array";if(c.byday.length>7)throw"Recurrence rrule 'byday' array must not be longer than the 7 days in a week";for(var s in c.byday=c.byday.filter(function(e,t){return c.byday.indexOf(e)==t}),c.byday)if(i.indexOf(c.byday[s])<0)throw"Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'"}}var g=new Date(a),d=new Date(l),E=new Date,S=("0000"+g.getFullYear().toString()).slice(-4),f=("00"+(g.getMonth()+1).toString()).slice(-2),A=("00"+g.getDate().toString()).slice(-2),y=("00"+g.getHours().toString()).slice(-2),v=("00"+g.getMinutes().toString()).slice(-2),D=("00"+g.getSeconds().toString()).slice(-2),T=("0000"+d.getFullYear().toString()).slice(-4),N=("00"+(d.getMonth()+1).toString()).slice(-2),b=("00"+d.getDate().toString()).slice(-2),R=("00"+d.getHours().toString()).slice(-2),h=("00"+d.getMinutes().toString()).slice(-2),I=("00"+d.getSeconds().toString()).slice(-2),L="",w="";y+v+D+R+h+I!=0&&(L="T"+y+v+D,w="T"+R+h+I);var M,O=S+f+A+L,U=T+N+b+w,Y=("0000"+E.getFullYear().toString()).slice(-4)+("00"+(E.getMonth()+1).toString()).slice(-2)+("00"+E.getDate().toString()).slice(-2)+("T"+("00"+E.getHours().toString()).slice(-2)+("00"+E.getMinutes().toString()).slice(-2)+("00"+E.getSeconds().toString()).slice(-2));if(c)if(c.rrule)M=c.rrule;else{if(M="rrule:FREQ="+c.freq,c.until){var p=new Date(Date.parse(c.until)).toISOString();M+=";UNTIL="+p.substring(0,p.length-13).replace(/[-]/g,"")+"000000Z"}c.interval&&(M+=";INTERVAL="+c.interval),c.count&&(M+=";COUNT="+c.count),c.byday&&c.byday.length>0&&(M+=";BYDAY="+c.byday.join(","))}(new Date).toISOString();var V=["BEGIN:VEVENT","UID:"+r.length+(new Date).getTime()+"@"+e,"CLASS:PUBLIC","DESCRIPTION:"+n,"DTSTAMP;VALUE=DATE-TIME:"+Y,"DTSTART;VALUE=DATE-TIME:"+O,"DTEND;VALUE=DATE-TIME:"+U,"LOCATION:"+o,"SUMMARY;LANGUAGE=en-us:"+t,"TRANSP:TRANSPARENT"];return null!=u&&function(e){try{return new URL(e),!0}catch(e){return!1}}(u)&&(V=V.concat(["URL;VALUE=URI:"+u])),V=V.concat(["END:VEVENT"]),M&&V.splice(4,0,M),V=V.join("\r\n"),r.push(V),V},download:function(e,t){if(r.length<1)return!1;t=void 0!==t?t:".ics",e=void 0!==e?e:"calendar";var i,o=n+"\r\n"+r.join("\r\n")+"\r\nEND:VCALENDAR";if(-1===navigator.userAgent.indexOf("MSIE 10"))i=new Blob([o]);else{var a=new BlobBuilder;a.append(o),i=a.getBlob("text/x-vCalendar;charset="+document.characterSet)}return saveAs(i,e+t),o},build:function(){return!(r.length<1)&&n+"\r\n"+r.join("\r\n")+"\r\nEND:VCALENDAR"}}}console.log("Unsupported Browser")};